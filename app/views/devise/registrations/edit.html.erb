<%= form_for(resource, :as => resource_name, :url => registration_path(resource_name), :html => { :method => :put }) do |f| %>
  <%= devise_error_messages! %>

  <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
    <div><%= t(:currently_waiting_confirmation) %><%= resource.unconfirmed_email %></div>
  <% end %>

  <div id="columns-container">
    <div id="left-custom-column">
      <p class="field">
        <%= f.label t'user.first_name' %>
        <%= f.text_field :first_name, :class=>"text-input medium-input", :required => true %><span class="required">*</span>
      </p>
      <p class="field">
        <%= f.label t'user.last_name' %>
        <%= f.text_field :last_name, :class=>"text-input medium-input", :required => true %><span class="required">*</span> 
      </p>
      <p class="field">
        <%= f.label t'user.email' %>
        <%= f.email_field :email, :class=>"text-input medium-input", :required => true %><span class="required">*</span> 
      </p>
      <p class="field">
        <%= f.label t'user.phone' %>
        <%= f.text_field :phone, :class=>"text-input medium-input", :required => true %><span class="required">*</span> 
      </p>
    </div>
    <div id="right-custom-column">
      <p class="field">
        <%= f.label t'user.street' %>
        <%= f.text_field :street, :class=>"text-input medium-input", :required => true %><span class="required">*</span> 
      </p>
      <p class="field">
        <%= f.label t'user.street_number' %>
        <%= f.text_field :street_number, :class=>"text-input medium-input", :required => true %><span class="required">*</span> 
      </p>
      <p class="field">
        <%= f.label t'user.colony' %>
        <%= f.text_field :colony, :class=>"text-input medium-input", :required => true %><span class="required">*</span> 
      </p>
      <p class="field">
        <%= f.label t'user.zip' %>
        <%= f.text_field :zip, :class=>"text-input small-input", :required => true, :pattern => "[1-9][0-9]{4}" %><span class="required">*</span> 
      </p>
      <p class="field">
        <%= f.label t'user.city' %>
        <%= f.text_field :city, :class=>"text-input medium-input", :required => true %><span class="required">*</span> 
      </p>
      <p class="field">
        <%= f.label t'user.state' %>
        <%= f.text_field :state, :class=>"text-input medium-input", :required => true %><span class="required">*</span> 
      </p>
      <p class="field">
        <%= f.label t'user.country' %>
        <%= f.text_field :country, :class=>"text-input medium-input", :required => true %><span class="required">*</span> 
      </p>
      <p class="field">
        <%= f.label t'user.username' %>
        <%= f.text_field :username, :class=>"text-input medium-input", :required => true %><span class="required">*</span> 
      </p>
      <p class="field">
        <%= f.label t'user.password' %>
        <%= f.password_field :password, :class=>"text-input medium-input" %>
      </p>
      <p class="field">
        <%= f.label t'user.password_confirmation' %>
        <%= f.password_field :password_confirmation, :class=>"text-input medium-input" %>
      </p>
      <p class="field">
        <%= f.label t'user.current_password' %>
        <%= f.password_field :current_password, :class=>"text-input medium-input", :required => true %><span class="required">*</span>
      </p>
      <%= f.hidden_field :event_id, :value => session[:current_event_id] %>
    </div>
  </div>
  <div class="clear"></div>
  <p class="form-actions">
    <%= f.submit nil, :class => 'button' %>
  </p>
<% end %>

<h3><%= t(:cancel_my_account) %></h3>

<p><%= t(:unhappy) %><%= button_to t(:cancel_my_account), registration_path(resource_name), :data => { :confirm => t(:are_you_sure) }, :method => :delete %></p>
