<%= render "layouts/first_tab" %>
<%= form_for(@user) do |f| %>
  <% if @user.errors.any? %>
    <div id="error_explanation">
      <% if @user.errors.count == 1 %>
        <h2><%= t('activerecord.errors.template.header.one', :model => t("activerecord.models.user")) %></h2>
      <% else %>
        <h2><%= t('activerecord.errors.template.header.other', :model => t("activerecord.models.user"), :count => @user.errors.count) %></h2>
      <% end %>
      <ul>
        <% @user.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>
  <div id="columns-container">
    <div id="left-custom-column">
      <p class="field">
        <%= f.label t'user.first_name' %>
        <%= f.text_field :first_name, :class=>"text-input medium-input", :required => true %><span class="required">*</span>
      </p>
      <p class="field">
        <%= f.label t'user.last_name' %>
        <%= f.text_field :last_name, :class=>"text-input medium-input", :required => true %><span class="required">*</span>
      </p>
      <p class="field">
        <%= f.label t'user.email' %>
        <%= f.email_field :email, :class=>"text-input medium-input", :required => true %><span class="required">*</span>
      </p>
      <p class="field">
        <%= f.label t'user.phone' %>
        <%= f.text_field :phone, :class=>"text-input medium-input", :required => true %><span class="required">*</span> 
      </p>
    </div>
    <div id="right-custom-column">
      <p class="field">
        <%= f.label t'user.street' %>
        <%= f.text_field :street, :class=>"text-input medium-input", :required => true %><span class="required">*</span> 
      </p>
      <p class="field">
        <%= f.label t'user.street_number' %>
        <%= f.text_field :street_number, :class=>"text-input medium-input", :required => true %><span class="required">*</span> 
      </p>
      <p class="field">
        <%= f.label t'user.colony' %>
        <%= f.text_field :colony, :class=>"text-input medium-input", :required => true %><span class="required">*</span> 
      </p>
      <p class="field">
        <%= f.label t'user.zip' %>
        <%= f.text_field :zip, :class=>"text-input small-input", :required => true, :pattern => "[1-9][0-9]{4}" %><span class="required">*</span> 
      </p>
      <p class="field">
        <%= f.label t'user.city' %>
        <%= f.text_field :city, :class=>"text-input medium-input", :required => true %><span class="required">*</span>
      </p>
      <p class="field">
        <%= f.label t'user.state' %>
        <%= f.text_field :state, :class=>"text-input medium-input", :required => true %><span class="required">*</span> 
      </p>
      <p class="field">
        <%= f.label t'user.country' %>
        <%= f.text_field :country, :class=>"text-input medium-input", :required => true %><span class="required">*</span> 
      </p>
      <p class="field">
        <%= f.label t'user.username' %>
        <%= f.text_field :username, :class=>"text-input medium-input", :required => true %><span class="required">*</span> 
      </p>
      <%= f.hidden_field :event_id, :value => session[:current_event_id] %>
    </div>
  </div>
  <div class="clear"></div>
  <p class="form-actions">
    <%= f.submit nil, :class => 'button' %>
  </p>
<% end %>